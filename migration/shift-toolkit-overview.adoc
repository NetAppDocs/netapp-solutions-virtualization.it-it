---
sidebar: sidebar 
permalink: migration/shift-toolkit-overview.html 
keywords: netapp, vmware, esxi, vm, migration, openshift, virtualization, hyper-v, proxmox 
summary:  
---
= Scopri come migrare le VM tra ambienti di virtualizzazione utilizzando NetApp Shift Toolkit
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
NetApp Shift Toolkit è un prodotto autonomo progettato per semplificare e accelerare le migrazioni delle VM tra hypervisor, come VMware ESXi, Microsoft Hyper-V, Oracle Linux Virtualization Manager, Redhat OpenShift e altri.  Supporta anche conversioni a livello di disco tra vari formati di dischi virtuali.



== Caso d'uso

Ogni organizzazione sta ora scoprendo i vantaggi di avere un ambiente multi-hypervisor.  Con i recenti cambiamenti del mercato, ogni organizzazione sta decidendo la migliore strategia da seguire, valutando i rischi tecnici e commerciali, tra cui la migrazione delle VM dei carichi di lavoro verso hypervisor alternativi, e concentrandosi sul raggiungimento degli obiettivi aziendali definiti, controllando il vendor lock-in. Questo consente loro di operare in modo ottimizzato in termini di costi di licenza e di estendere il budget IT alle aree giuste, anziché spendere per i core inutilizzati su un hypervisor specifico.  Tuttavia, la sfida è sempre stata legata ai tempi di migrazione e ai tempi di inattività associati.

Grazie al toolkit NetApp Shift, la migrazione delle macchine virtuali (VM) non è più un problema.  Questo prodotto standalone consente una migrazione rapida ed efficiente delle VM da VMware ESXi a Microsoft Hyper-V. Inoltre, supporta conversioni a livello di disco tra diversi formati di dischi virtuali.  Grazie alle funzionalità pronte all'uso fornite da ONTAP, queste migrazioni possono essere incredibilmente rapide, con tempi di inattività minimi.  Ad esempio, la conversione di un file VMDK da 1 TB richiede in genere un paio d'ore, ma con il toolkit Shift può essere completata in pochi secondi.



== Panoramica del toolkit

Il toolkit NetApp Shift è una soluzione con interfaccia utente grafica (GUI) facile da usare che consente di migrare macchine virtuali (VM) tra diversi hypervisor e di convertire i formati dei dischi virtuali. Utilizza la tecnologia NetApp FlexClone® per convertire rapidamente i dischi rigidi delle VM. Inoltre, il toolkit gestisce la creazione e la configurazione delle VM di destinazione.

Il toolkit Shift offre flessibilità in un ambiente multi-hypervisor supportando la conversione bidirezionale tra i seguenti hypervisor:

* Da VMware ESXi a Microsoft Hyper-V
* Da Microsoft Hyper-V a VMware ESXi
* Da VMWare ESXi a Oracle Linux Virtualization Manager (OLVM)
* Virtualizzazione da VMWare ESXi a Red Hat OpenShift


Shift Toolkit supporta conversioni a livello di disco di dischi virtuali tra hypervisor per i seguenti formati di disco:

* Da VMware ESX a Microsoft Hyper-V (formato da disco macchina virtuale [VMDK] a disco rigido virtuale [VHDX])
* Da Microsoft Hyper-V a VMware ESX (formato del disco rigido virtuale [VHDX] su disco della macchina virtuale [VMDK])
* Hypervisor compatibili con VMware ESX e KVM (da VMDK a QCOW2)
* Hypervisor compatibili con VMware ESX e KVM (da VMDK a RAW)


image::shift-toolkit-001.png[Panoramica del NetApp Shift Toolkit]

È possibile scaricare il toolkit Shiftlink:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector["Qui"] ed è disponibile solo per i sistemi Windows.



== Vantaggi della portabilità della VM

ONTAP è ideale per qualsiasi hypervisor e in qualsiasi iperscalare.  Con tecnologia FlexClone .  La portabilità delle VM in pochi minuti è una realtà, piuttosto che dover attendere tempi di inattività più lunghi o accontentarsi di opzioni pass-through.

Kit di strumenti per il cambio:

* aiuta a ridurre al minimo i tempi di inattività e migliora la produttività aziendale.
* offre scelta e flessibilità riducendo i costi di licenza, i vincoli e gli impegni verso un unico fornitore.
* consente alle organizzazioni che desiderano ottimizzare i costi di licenza delle VM e ampliare i budget IT.
* riduce i costi di virtualizzazione grazie alla portabilità delle VM ed è offerto gratuitamente da NetApp.




== Come funziona Shift Toolkit

Al momento della conversione, Shift Toolkit si connette agli host VMware ESXi e Microsoft Hyper-V e allo storage NetApp condiviso.  Il toolkit Shift sfrutta FlexClone per convertire i dischi rigidi delle VM da un hypervisor all'altro utilizzando tre tecnologie NetApp chiave:

* Singolo volume e più protocolli Con NetApp ONTAP, è possibile utilizzare facilmente più protocolli per accedere a un singolo volume. Ad esempio, VMware ESXi può accedere a un volume abilitato con il protocollo NFS (Network File System) e Microsoft Hyper-V può accedere allo stesso volume con il protocollo CIFS/SMB.
* Tecnologia FlexClone FlexClone consente la clonazione rapida di interi file o volumi senza dover copiare i dati. I blocchi comuni sul sistema di archiviazione sono condivisi tra più file o volumi. Di conseguenza, i dischi VM di grandi dimensioni possono essere clonati molto rapidamente.
* Conversione del disco VM NetApp PowerShell Toolkit e Shift Toolkit contengono un gran numero di flussi di lavoro che possono essere utilizzati per eseguire varie azioni su un controller di storage NetApp . Sono inclusi cmdlet di PowerShell che convertono i dischi virtuali in formati diversi. Ad esempio, VMware VMDK può essere convertito in Microsoft VHDX e viceversa. Queste conversioni vengono eseguite con FlexClone, che consente la clonazione e la conversione molto rapide dei formati dei dischi in un unico passaggio.


image::shift-toolkit-002.png[Diagramma di come funziona NetApp Shift Toolkit]



=== Protocolli e metodi di comunicazione

Shift Toolkit utilizza i seguenti protocolli durante le operazioni di conversione o migrazione.

* HTTPS: utilizzato dal toolkit Shift per comunicare con il cluster Data ONTAP .
* VI Java (openJDK), VMware PowerCLI - Utilizzato per comunicare con VMware ESXi.
* Modulo Windows PowerShell: utilizzato per comunicare con Microsoft Hyper-V.


I firewall devono abilitare il traffico sulle seguenti porte:

[cols="20%, 10%, 25%, 20%, 25%"]
|===
| Porta | Protocollo | Fonte | Destinazione | Scopo 


| 443 | TCP | Nodo del toolkit di spostamento | VMware vCenter | Inventario VMware 


| 443 | TCP | Nodo del toolkit di spostamento | Nodi VMware ESXi | Dipendenza Invoke-vmscript (instradata) 


| 443 | TCP | Nodo del toolkit di spostamento | Hypervisor di destinazione | Inventario target 


| 443 | TCP | Nodo del toolkit di spostamento | Sistema ONTAP | Accesso ONTAP 


| 5985/5986 | HTTP | Nodo del toolkit di spostamento | Host Hyper-V | WinRM 
|===